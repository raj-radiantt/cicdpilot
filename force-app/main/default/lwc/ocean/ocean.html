<template>
   <c-header></c-header>
   <div class="skip-content-wrapper">
      <p class="">
         <a data-target-id="ocean-nav-content" tabindex="0" href="JavaScript:void(0);" onclick={focusToElement}>skip to nav content</a>
         <a data-target-id="ocean-main-content" tabindex="0" href="JavaScript:void(0);" onclick={focusToElement}>skip to main content </a>
      </p>
   </div>
   <div class="main-sf">
      <c-sidebar></c-sidebar>
      <div if:true={showLoadingSpinner}>
         <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
      </div>
      <div class="wrapper" data-id="ocean-main-content" tabindex="-1">
         <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_12-of-12
               slds-float_right">
               
               <template if:true={showRequests}>
                  <div class="slds-grid row-grid
                     slds-wrap">
                     <div class="slds-col
                        slds-size_12-of-12">
                        <div class="sf-page-title">
                           <h2 class="mb-0">{requestType}
                              Requests
                           </h2>
                        </div>
                        <!-- <p class="help-block" >Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p> -->

                     </div>
                     <template for:each={oceanRequests} for:item="s">
                        <div key={s.Id} class="slds-col
                           slds-size_4-of-12
                           slds-p-bottom_large
                           acrd-reqs">
                           <article class="slds-card
                              h100per">
                              <div class="reqid-stat
                                 req-approved">
                                 <div class="rel-left">
                                    {s.Name}
                                 </div>
                                 
                                 <div class="rel-center">{s.Review_Outcome__c}</div>
                                 
                                 <div class="rel-right">
                                    <div class="badge-status">
                                       {s.Request_Status__c}
                                    </div>
                                 </div>
                              </div>
                              <div class="slds-card__header
                                 slds-grid">
                                 <header class="slds-media">
                                    <div class="slds-media__figure">
                                       <span class="slds-icon_container
                                          slds-icon-standard-account" title="account">
                                          <svg class="slds-icon
                                             slds-icon_medium" aria-hidden="true">
                                             <use
                                                xlink:href="/sfsites/c/_slds/icons/standard-sprite/svg/symbols.svg#account">
                                             </use>
                                          </svg>
                                          <span class="slds-assistive-text">account</span>
                                       </span>
                                    </div>
                                    <div class="slds-media__body">
                                       <h2 class="slds-card__header-title">
                                          <span class="slds-card__header-link" title="Accounts">
                                             <span>{s.Application_Acronym__c}</span>
                                          </span>
                                       </h2>
                                    </div>
                                 </header>
                              </div>
                              <div class="slds-card__body
                                 slds-card__body_inner">
                                 <div class="slds-grid
                                    row-grid
                                    slds-wrap
                                    det-details">
                                    <div class="slds-col
                                       slds-size_5-of-12">
                                       <p class="text-sm">
                                          <span class="text-nowrap">CSP Project
                                             Name:</span>
                                       </p>
                                       <h4 title="HIOS
                                          React
                                          Project">
                                          {s.ProjectName__c}
                                       </h4>
                                    </div>
                                    <div class="slds-col slds-size_7-of-12 text-center slds-float_right">
                                       <p class="text-sm">
                                          <span class="text-nowrap">Estimated Total Cost:</span>
                                       </p>
                                       <h4 title="Total Cost" if:true={s.Total_Estimated_Cost__c}>
                                          <span class="badge-status price-tag">
                                             $<lightning-formatted-number value={s.Total_Estimated_Cost__c}
                                                maximum-fraction-digits="2"></lightning-formatted-number>
                                             </p>
                                          </span>
                                       </h4>
                                       <h4 title="Total Cost" if:false={s.Total_Estimated_Cost__c}>
                                          <span class="badge-status price-tag">$0.00</span>
                                       </h4>
                                    </div>
                                 </div>
                              </div>
                              <footer class="slds-card__footer">
                                 <div class="req-footer">
                                    <div class="date-footer flex-1">
                                       <div class="req-date">
                                          Submitted On : <lightning-formatted-date-time value={s.Submitted_Date__c}>
                                          </lightning-formatted-date-time>
                                       </div>
                                       <div class="req-date">
                                          Last Updated On : <lightning-formatted-date-time value={s.LastModifiedDate}>
                                          </lightning-formatted-date-time>
                                       </div>
                                    </div>
                                    <div class="rel-right">
                                       <span class="slds-assistive-text">{btnAction} for {s.Name}</span>
                                       <lightning-button variant="brand" value={s.Id} label={btnAction}
                                          title={btnAction} onclick={viewRequest} data-value={s.Id}
                                          class="slds-m-left_x-small">
                                       </lightning-button>
                                    </div>
                                 </div>
                              </footer>
                           </article>
                        </div>
                     </template>
                  </div>
                  <figure class="no-records card-type-no" if:false={oceanRequests}>
                     <div class="slds-notify_container slds-notify_container--inline slds-illustration_container">
                        <figure>
                           <img src={emptyFileUrl} alt="" width="220" height="171"></figure>
                        <h4>Hmmâ€¦</h4>
                        <p>No records to display.</p>
                     </div>
                  </figure>
               </template>

               <template if:true={showRequestForm}>
                  <c-request current-ocean-request={currentOceanRequest}></c-request>
               </template>
               <template if:true={showHome}>
                  <c-ocean-dashboard></c-ocean-dashboard>
               </template>
            </div>
         </div>
      </div>
   </div>
</template>